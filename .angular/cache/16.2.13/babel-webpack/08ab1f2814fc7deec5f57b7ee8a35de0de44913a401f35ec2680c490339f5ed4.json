{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let EditPostComponent = class EditPostComponent {\n  constructor(formBuilder, postService, route, location) {\n    this.formBuilder = formBuilder;\n    this.postService = postService;\n    this.route = route;\n    this.location = location;\n    this.currentPost = {};\n    this.createForm({\n      ...this.currentPost\n    });\n  }\n  createForm(formValue) {\n    this.form = this.formBuilder.group({\n      title: [formValue.title],\n      content: [formValue.content],\n      img: [formValue.img]\n    });\n  }\n  ngOnInit() {\n    this.route.params.subscribe(data => {\n      const postId = data['postId'];\n      this.postService.getPost(postId).subscribe(res => {\n        this.createForm({\n          ...res\n        });\n        this.currentPost = res;\n      });\n    });\n  }\n  editPostHandler() {\n    if (this.form.invalid) {\n      return;\n    }\n    this.postService.editPost(this.currentPost._id, this.form.value).subscribe();\n    this.location.back();\n  }\n};\nEditPostComponent = __decorate([Component({\n  selector: 'app-edit-post',\n  templateUrl: './edit-post.component.html',\n  styleUrls: ['./edit-post.component.css']\n})], EditPostComponent);","map":{"version":3,"names":["Component","EditPostComponent","constructor","formBuilder","postService","route","location","currentPost","createForm","formValue","form","group","title","content","img","ngOnInit","params","subscribe","data","postId","getPost","res","editPostHandler","invalid","editPost","_id","value","back","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\eddym\\OneDrive\\Desktop\\angular-exam\\angular-exam\\src\\app\\posts\\edit-post\\edit-post.component.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { PostService } from 'src/app/services/post.service';\nimport { Post } from 'src/app/types/post';\n\n@Component({\n  selector: 'app-edit-post',\n  templateUrl: './edit-post.component.html',\n  styleUrls: ['./edit-post.component.css']\n})\nexport class EditPostComponent implements OnInit {\n  currentPost: Post = {} as Post;\n\n  form!: FormGroup;\n\n  constructor(private formBuilder: FormBuilder, private postService: PostService, private route: ActivatedRoute, private location: Location) {\n    this.createForm({ ...this.currentPost });\n  }\n\n  createForm(formValue: Post) {\n    this.form = this.formBuilder.group({\n      title: [formValue.title],\n      content: [formValue.content],\n      img: [formValue.img],\n    })\n  }\n\n  ngOnInit(): void {\n    this.route.params.subscribe((data) => {\n      const postId = data['postId'];\n      this.postService.getPost(postId).subscribe((res) => {\n        this.createForm({ ...res })\n        this.currentPost = res;\n      })\n    })\n  }\n\n  editPostHandler(): void {\n    if (this.form.invalid) {\n      return;\n    }\n\n    this.postService.editPost(this.currentPost._id, this.form.value).subscribe()\n\n    this.location.back();\n  }\n\n}\n"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YAAoBC,WAAwB,EAAUC,WAAwB,EAAUC,KAAqB,EAAUC,QAAkB;IAArH,KAAAH,WAAW,GAAXA,WAAW;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,KAAK,GAALA,KAAK;IAA0B,KAAAC,QAAQ,GAARA,QAAQ;IAJ/H,KAAAC,WAAW,GAAS,EAAU;IAK5B,IAAI,CAACC,UAAU,CAAC;MAAE,GAAG,IAAI,CAACD;IAAW,CAAE,CAAC;EAC1C;EAEAC,UAAUA,CAACC,SAAe;IACxB,IAAI,CAACC,IAAI,GAAG,IAAI,CAACP,WAAW,CAACQ,KAAK,CAAC;MACjCC,KAAK,EAAE,CAACH,SAAS,CAACG,KAAK,CAAC;MACxBC,OAAO,EAAE,CAACJ,SAAS,CAACI,OAAO,CAAC;MAC5BC,GAAG,EAAE,CAACL,SAAS,CAACK,GAAG;KACpB,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACV,KAAK,CAACW,MAAM,CAACC,SAAS,CAAEC,IAAI,IAAI;MACnC,MAAMC,MAAM,GAAGD,IAAI,CAAC,QAAQ,CAAC;MAC7B,IAAI,CAACd,WAAW,CAACgB,OAAO,CAACD,MAAM,CAAC,CAACF,SAAS,CAAEI,GAAG,IAAI;QACjD,IAAI,CAACb,UAAU,CAAC;UAAE,GAAGa;QAAG,CAAE,CAAC;QAC3B,IAAI,CAACd,WAAW,GAAGc,GAAG;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAC,eAAeA,CAAA;IACb,IAAI,IAAI,CAACZ,IAAI,CAACa,OAAO,EAAE;MACrB;;IAGF,IAAI,CAACnB,WAAW,CAACoB,QAAQ,CAAC,IAAI,CAACjB,WAAW,CAACkB,GAAG,EAAE,IAAI,CAACf,IAAI,CAACgB,KAAK,CAAC,CAACT,SAAS,EAAE;IAE5E,IAAI,CAACX,QAAQ,CAACqB,IAAI,EAAE;EACtB;CAED;AArCY1B,iBAAiB,GAAA2B,UAAA,EAL7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW9B,iBAAiB,CAqC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}